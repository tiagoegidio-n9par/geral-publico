<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Grammont Enterprises â€” Fluxo de CaptaÃ§Ã£o de Recursos 90/10</title>

<!-- Open Graph â€” Preview no WhatsApp / Redes Sociais -->
<meta property="og:title" content="Grammont Enterprises â€” Fluxo 90/10">
<meta property="og:description" content="Fluxograma interativo do processo de captaÃ§Ã£o de recursos. Cliente entra com 10%, Grammont financia 90%. Visualize todas as etapas do funding.">
<meta property="og:type" content="website">
<meta name="description" content="Fluxograma completo do processo de emprÃ©stimos privados 90/10 da Grammont Enterprises. Todas as etapas: Intake, KYC, Financial Statement, Business Plan e Term Sheet.">

<style>
  @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --gold: #D4A843;
    --gold-dark: #8B6914;
    --charcoal: #1a1a1a;
    --slate: #2C3E50;
    --cream: #FFF8E7;
    --white: #FFFFFF;
  }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--charcoal);
    color: var(--white);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
  }

  /* â”€â”€ HEADER â”€â”€ */
  .header {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 100;
    background: linear-gradient(135deg, var(--charcoal) 0%, #2a2218 100%);
    border-bottom: 2px solid var(--gold);
    padding: 12px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.5);
  }

  .header-brand {
    display: flex;
    align-items: center;
    gap: 14px;
  }

  .header-logo {
    width: 44px; height: 44px;
    background: var(--gold);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
    color: var(--charcoal);
    flex-shrink: 0;
  }

  .header-title {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    color: var(--gold);
    letter-spacing: 0.5px;
  }

  .header-subtitle {
    font-size: 11px;
    color: #aaa;
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-top: 2px;
  }

  .header-controls {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    border: 1.5px solid var(--gold);
    border-radius: 6px;
    background: transparent;
    color: var(--gold);
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
  }

  .btn:hover {
    background: var(--gold);
    color: var(--charcoal);
  }

  .btn-primary {
    background: var(--gold);
    color: var(--charcoal);
  }

  .btn-primary:hover {
    background: #e6bc5a;
    border-color: #e6bc5a;
  }

  .btn-icon {
    padding: 8px 10px;
    font-size: 16px;
    min-width: 36px;
    justify-content: center;
  }

  .zoom-display {
    font-size: 12px;
    color: #888;
    min-width: 42px;
    text-align: center;
    font-variant-numeric: tabular-nums;
  }

  /* â”€â”€ CANVAS â”€â”€ */
  .canvas-container {
    position: fixed;
    top: 72px; left: 0; right: 0; bottom: 0;
    overflow: hidden;
    cursor: grab;
    touch-action: none;
    -ms-touch-action: none;
    background:
      radial-gradient(circle at 20% 30%, rgba(212,168,67,0.03) 0%, transparent 50%),
      radial-gradient(circle at 80% 70%, rgba(212,168,67,0.02) 0%, transparent 50%),
      var(--charcoal);
  }

  .canvas-container:active { cursor: grabbing; }

  .canvas-inner {
    position: absolute;
    transform-origin: 0 0;
    padding: 40px;
  }

  #mermaid-output {
    background: var(--white);
    border-radius: 12px;
    padding: 32px;
    box-shadow: 0 8px 48px rgba(0,0,0,0.4), 0 0 0 1px rgba(212,168,67,0.15);
  }

  #mermaid-output svg {
    max-width: none !important;
    height: auto !important;
  }

  /* â”€â”€ LOADING â”€â”€ */
  .loading-overlay {
    position: fixed;
    inset: 0;
    z-index: 200;
    background: var(--charcoal);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px;
    transition: opacity 0.5s ease;
  }

  .loading-overlay.hidden {
    opacity: 0;
    pointer-events: none;
  }

  .loading-spinner {
    width: 48px; height: 48px;
    border: 3px solid #333;
    border-top-color: var(--gold);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin { to { transform: rotate(360deg); } }

  .loading-text {
    font-size: 14px;
    color: #888;
    letter-spacing: 1px;
  }

  /* â”€â”€ TOAST â”€â”€ */
  .toast {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%) translateY(80px);
    background: var(--slate);
    color: var(--white);
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    box-shadow: 0 4px 24px rgba(0,0,0,0.4);
    border: 1px solid var(--gold);
    z-index: 150;
    opacity: 0;
    transition: all 0.35s ease;
  }

  .toast.show {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }

  /* â”€â”€ HINT â”€â”€ */
  .hint {
    position: fixed;
    bottom: 16px;
    right: 16px;
    font-size: 11px;
    color: #555;
    z-index: 50;
    pointer-events: none;
  }

  /* â”€â”€ RESPONSIVE â”€â”€ */
  @media (max-width: 640px) {
    .header { padding: 10px 12px; }
    .header-title { font-size: 14px; }
    .header-subtitle { display: none; }
    .btn { padding: 6px 10px; font-size: 12px; }
    .btn .label { display: none; }
  }
</style>
</head>
<body>

<!-- LOADING -->
<div class="loading-overlay" id="loading">
  <div class="loading-spinner"></div>
  <div class="loading-text">Renderizando fluxograma...</div>
</div>

<!-- HEADER -->
<header class="header">
  <div class="header-brand">
    <div class="header-logo">GE</div>
    <div>
      <div class="header-title">Grammont Enterprises</div>
      <div class="header-subtitle">Fluxo de CaptaÃ§Ã£o de Recursos â€” EmprÃ©stimos Privados 90/10</div>
    </div>
  </div>
  <div class="header-controls">
    <button class="btn btn-icon" onclick="zoomOut()" title="Diminuir zoom">âˆ’</button>
    <span class="zoom-display" id="zoomLevel">100%</span>
    <button class="btn btn-icon" onclick="zoomIn()" title="Aumentar zoom">+</button>
    <button class="btn btn-icon" onclick="fitToScreen()" title="Ajustar Ã  tela">âŠ</button>
    <button class="btn btn-primary" onclick="exportPNG()" title="Baixar como imagem PNG">
      â¬‡ <span class="label">Exportar PNG</span>
    </button>
  </div>
</header>

<!-- CANVAS -->
<div class="canvas-container" id="canvasContainer">
  <div class="canvas-inner" id="canvasInner">
    <div id="mermaid-output">
      <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': {'primaryColor': '#D4A843', 'primaryTextColor': '#1a1a1a', 'primaryBorderColor': '#B8860B', 'lineColor': '#333333', 'secondaryColor': '#f5f0e1', 'tertiaryColor': '#fff8e7', 'fontSize': '14px'}}}%%

flowchart TD

    %% ===== INÃCIO =====
    START(["ğŸ¦ GRAMMONT ENTERPRISES<br/>EmprÃ©stimos Privados 90/10<br/>Fluxo de CaptaÃ§Ã£o de Recursos"])
    START --> CONTACT["ğŸ“ Contato Inicial com o Cliente<br/>â€” ApresentaÃ§Ã£o do modelo 90/10 â€”<br/>Cliente entra com 10%, Grammont financia 90%"]

    %% ===== ETAPA 1: TRIAGEM E INTAKE =====
    CONTACT --> E1_HEADER{{"âš™ï¸ ETAPA 1: TRIAGEM &amp; INTAKE<br/>ğŸ“„ Business Intake Form 4-2025.pdf"}}

    E1_HEADER --> E1_COLLECT["ğŸ“‹ Coleta de Dados do Cliente:<br/>â€¢ Nome completo<br/>â€¢ Nome da empresa<br/>â€¢ EndereÃ§o da empresa<br/>â€¢ Data de inÃ­cio da empresa<br/>â€¢ PontuaÃ§Ã£o de crÃ©dito (3 bureaus â€” somente EUA)<br/>â€¢ AvaliaÃ§Ã£o do imÃ³vel a ser financiado<br/>â€¢ Valor do emprÃ©stimo solicitado<br/>â€¢ DescriÃ§Ã£o do negÃ³cio<br/>â€¢ Receita bruta mensal depositada em conta<br/>â€¢ EndereÃ§o residencial<br/>â€¢ EndereÃ§o comercial<br/>â€¢ Telefones (comercial + celular)<br/>â€¢ SSN ou cÃ³pia do passaporte<br/>â€¢ Data de nascimento<br/>â€¢ IdentificaÃ§Ã£o fiscal da empresa (EIN / Tax ID)<br/>â€¢ E-mail empresarial<br/>â€¢ Percentual de participaÃ§Ã£o societÃ¡ria<br/>â€¢ DeclaraÃ§Ãµes de imposto dos Ãºltimos 2 anos (somente EUA)"]

    E1_COLLECT --> E1_CHECK{"ğŸ” VerificaÃ§Ã£o CrÃ­tica:<br/>O cliente possui 10%<br/>do valor do emprÃ©stimo?"}

    E1_CHECK -- "âŒ NÃƒO" --> E1_FAIL["ğŸš« FLUXO INTERROMPIDO<br/><br/>Sugerir serviÃ§os de consultoria<br/>para captaÃ§Ã£o de recursos<br/>(PolÃ­tica Grammont)"]
    E1_FAIL --> E1_RETRY["ğŸ”„ Cliente pode retornar<br/>quando dispuser dos 10%"]
    E1_RETRY --> E1_CHECK

    E1_CHECK -- "âœ… SIM" --> E1_VALIDATED["âœ… Etapa 1 Validada<br/>FormulÃ¡rio de Intake preenchido e aprovado"]

    %% ===== ETAPA 2: COMPLIANCE E KYC =====
    E1_VALIDATED --> E2_HEADER{{"âš™ï¸ ETAPA 2: COMPLIANCE &amp; KYC<br/>ğŸ“„ KYC_ApplForm.pdf"}}

    E2_HEADER --> E2_TYPE{"ğŸ¢ Tipo de Solicitante?"}

    E2_TYPE -- "ğŸ‘¤ Pessoa FÃ­sica" --> E2_PF["ğŸ“ SeÃ§Ã£o A â€” Pessoa FÃ­sica<br/><br/>â€¢ Nome do solicitante<br/>â€¢ Nome do pai ou cÃ´njuge<br/>â€¢ GÃªnero / Estado civil / Data de nascimento<br/>â€¢ Nacionalidade / Status de residÃªncia<br/>â€¢ PAN / Aadhaar (se aplicÃ¡vel)<br/>â€¢ Documento de identidade apresentado<br/>â€¢ EndereÃ§o residencial completo<br/>â€¢ Contatos (telefone, celular, fax, e-mail)<br/>â€¢ Comprovante de endereÃ§o<br/>â€¢ EndereÃ§o permanente (se diferente)<br/>â€¢ Foto 3x4 recente<br/>â€¢ DeclaraÃ§Ã£o assinada pelo solicitante"]

    E2_TYPE -- "ğŸ›ï¸ Pessoa JurÃ­dica" --> E2_PJ["ğŸ“ SeÃ§Ã£o B â€” Pessoa JurÃ­dica<br/><br/>â€¢ RazÃ£o social da empresa<br/>â€¢ Data e local de constituiÃ§Ã£o<br/>â€¢ Data de inÃ­cio das atividades<br/>â€¢ PAN / NÂº de registro (ex.: CIN, CNPJ)<br/>â€¢ Tipo jurÃ­dico (LLC, Corp, Ltda, etc.)<br/>â€¢ EndereÃ§o para correspondÃªncia<br/>â€¢ Contatos (telefone, celular, fax, e-mail)<br/>â€¢ Comprovante de endereÃ§o<br/>â€¢ EndereÃ§o registrado (se diferente)<br/>â€¢ SÃ³cios / Diretores / Promotores<br/>  (nomes, documentos, endereÃ§os, fotos)<br/>â€¢ DIN dos diretores (se aplicÃ¡vel)<br/>â€¢ Aadhaar dos sÃ³cios (se aplicÃ¡vel)<br/>â€¢ DeclaraÃ§Ã£o assinada pelo representante"]

    E2_PF --> E2_VALIDATED["âœ… Etapa 2 Completa<br/>KYC aprovado pela Grammont Enterprises"]
    E2_PJ --> E2_VALIDATED

    %% ===== ETAPA 3: SAÃšDE FINANCEIRA =====
    E2_VALIDATED --> E3_HEADER{{"âš™ï¸ ETAPA 3: SAÃšDE FINANCEIRA<br/>ğŸ“„ Personal Financial Statement.pdf"}}

    E3_HEADER --> E3_ASSETS["ğŸ’° ATIVOS:<br/>â€¢ Caixa, Conta Corrente, PoupanÃ§a<br/>â€¢ Valor de resgate de Seguro de Vida<br/>â€¢ AÃ§Ãµes e TÃ­tulos (negociados em bolsa)<br/>â€¢ AÃ§Ãµes e TÃ­tulos (nÃ£o negociados)<br/>â€¢ Contas e Notas a Receber<br/>â€¢ Hipotecas e Contratos de propriedade<br/>â€¢ Anuidades / PrevidÃªncia<br/>â€¢ Contas de Aposentadoria<br/>â€¢ ParticipaÃ§Ãµes em empresas de capital fechado<br/>â€¢ ImÃ³vel Residencial (principal)<br/>â€¢ Outros ImÃ³veis<br/>â€¢ ImÃ³veis de Temporada (Time Shares)<br/>â€¢ PetrÃ³leo e GÃ¡s<br/>â€¢ AutomÃ³veis<br/>â€¢ Bens Pessoais<br/>â€¢ Outros Ativos<br/>â€¢ Ativos mantidos fora do paÃ­s"]

    E3_HEADER --> E3_LIABILITIES["ğŸ“Š PASSIVOS:<br/>â€¢ EmprÃ©stimos parcelados (InstituiÃ§Ãµes)<br/>â€¢ EmprÃ©stimos parcelados (Pessoas FÃ­sicas)<br/>â€¢ DÃ­vida de CartÃ£o de CrÃ©dito<br/>â€¢ Linhas de CrÃ©dito<br/>â€¢ Impostos de Renda a Pagar<br/>â€¢ Outros Impostos a Pagar<br/>â€¢ Hipoteca Residencial â€” 1Âº Gravame<br/>â€¢ Hipoteca Residencial â€” 2Âº Gravame<br/>â€¢ Hipotecas sobre Outros ImÃ³veis<br/>â€¢ Contratos de Compra e Venda<br/>â€¢ Outros Passivos (Sociedades)<br/>â€¢ Outros Passivos (Empresas de capital fechado)<br/>â€¢ Outros Passivos"]

    E3_ASSETS --> E3_CALC["ğŸ§® CÃLCULO OBRIGATÃ“RIO:<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>PatrimÃ´nio LÃ­quido =<br/>Total de Ativos âˆ’ Total de Passivos<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"]
    E3_LIABILITIES --> E3_CALC

    E3_HEADER --> E3_INCOME["ğŸ“ˆ RENDA:<br/>â€¢ SalÃ¡rios e RemuneraÃ§Ã£o<br/>â€¢ PensÃµes e Anuidades<br/>â€¢ PrevidÃªncia Social<br/>â€¢ Renda de Fideicomissos (Trusts)<br/>â€¢ Renda de NegÃ³cios / ImÃ³veis<br/>â€¢ Receita de Vendas / AluguÃ©is<br/>â€¢ Despesas Operacionais<br/>â€¢ Venda de Ativos"]

    E3_INCOME --> E3_CALC
    E3_CALC --> E3_VALIDATED["âœ… Etapa 3 Completa<br/>DeclaraÃ§Ã£o Financeira Pessoal finalizada"]

    %% ===== ETAPA 4: PLANO DE NEGÃ“CIOS =====
    E3_VALIDATED --> E4_HEADER{{"âš™ï¸ ETAPA 4: PLANO DE NEGÃ“CIOS<br/>ğŸ“„ Modelo: redacted business plan.pdf"}}

    E4_HEADER --> E4_EXEC["ğŸ“‘ SumÃ¡rio Executivo:<br/>â€¢ DescriÃ§Ã£o da empresa<br/>â€¢ VisÃ£o e missÃ£o<br/>â€¢ Problema que resolve<br/>â€¢ SoluÃ§Ã£o proposta<br/>â€¢ Mercado-alvo<br/>â€¢ Vantagens competitivas<br/>â€¢ Equipe de gestÃ£o<br/>â€¢ Consultores e Assessores"]

    E4_HEADER --> E4_OPS["ğŸ—ï¸ OperaÃ§Ãµes:<br/>â€¢ LocalizaÃ§Ã£o e InstalaÃ§Ãµes<br/>â€¢ Tecnologia utilizada<br/>â€¢ Plano de Marketing e Vendas<br/>â€¢ Indicadores-chave (KPIs)"]

    E4_HEADER --> E4_FIN["ğŸ’µ Plano Financeiro:<br/>â€¢ Premissas principais<br/>â€¢ ProjeÃ§Ã£o de receitas (mensal)<br/>â€¢ ProjeÃ§Ã£o de despesas (mensal)<br/>â€¢ Lucro LÃ­quido por ano<br/>â€¢ Margem Bruta esperada"]

    E4_HEADER --> E4_CRITICAL["âš ï¸ SEÃ‡Ã•ES OBRIGATÃ“RIAS:<br/><br/>ğŸ”‘ ESTRATÃ‰GIA DE SAÃDA (Exit Strategy)<br/>Como o emprÃ©stimo serÃ¡ quitado?<br/>(ex.: venda para PE, fluxo de caixa,<br/>refinanciamento)<br/><br/>ğŸ”‘ USO DOS RECURSOS (Use of Funds)<br/>Como os 90% + 10% serÃ£o aplicados?<br/>(aquisiÃ§Ãµes, operaÃ§Ãµes, marketing,<br/>equipamentos, capital de giro)"]

    E4_EXEC --> E4_VALIDATED["âœ… Etapa 4 Completa<br/>Plano de NegÃ³cios aprovado"]
    E4_OPS --> E4_VALIDATED
    E4_FIN --> E4_VALIDATED
    E4_CRITICAL --> E4_VALIDATED

    %% ===== PACOTE DE DOCUMENTOS COMPLEMENTARES =====
    E4_VALIDATED --> DOCS_HEADER{{"ğŸ“¦ PACOTE DOCUMENTAL COMPLEMENTAR<br/>(Conforme Regras Operacionais â€” Texto)"}}

    DOCS_HEADER --> DOCS_LIST["ğŸ“‚ Documentos Adicionais Requeridos:<br/><br/>a) Duas formas de identificaÃ§Ã£o vÃ¡lidas<br/>   (carteira de motorista + passaporte)<br/>b) FormulÃ¡rio de Intake âœ… (jÃ¡ completo)<br/>c) DeclaraÃ§Ã£o Financeira Pessoal âœ…<br/>d) Plano de NegÃ³cios âœ…<br/>e) SumÃ¡rio Executivo + Biografias âœ…<br/>f) ComprovaÃ§Ã£o dos 10% disponÃ­veis<br/>   (NÃƒO pode ser crÃ©dito ou recurso emprestado)<br/>g) 6 meses de extratos bancÃ¡rios<br/>   (da empresa ou pessoais, se empresa nova)<br/>h) RelatÃ³rios completos de crÃ©dito<br/>   (Equifax / Experian / TransUnion ou equivalente)<br/>i) Documentos societÃ¡rios +<br/>   2 anos de demonstraÃ§Ãµes financeiras (se existente)<br/>j) EIN ou IdentificaÃ§Ã£o Fiscal da empresa<br/>k) 2 anos de declaraÃ§Ãµes de imposto<br/>   (NOAs e T1 Generals no CanadÃ¡ ou equivalente)<br/>l) Nome do advogado responsÃ¡vel pelo emprÃ©stimo<br/>m) KYC âœ… (jÃ¡ completo)"]

    DOCS_LIST --> DOCS_CHECK{"ğŸ“‹ Toda a documentaÃ§Ã£o<br/>estÃ¡ completa?"}

    DOCS_CHECK -- "âŒ INCOMPLETA" --> DOCS_PENDING["â³ Solicitar documentos<br/>pendentes ao cliente<br/><br/>âš ï¸ O processo de revisÃ£o NÃƒO<br/>pode comeÃ§ar sem toda a<br/>documentaÃ§Ã£o completa"]
    DOCS_PENDING --> DOCS_CHECK

    DOCS_CHECK -- "âœ… COMPLETA" --> CRM_PAYMENT

    %% ===== PAGAMENTO CRM =====
    CRM_PAYMENT{{"ğŸ’³ PAGAMENTO CRM â€” US$ 100,00"}}
    CRM_PAYMENT --> CRM_INFO["ğŸ’° Taxa de AtivaÃ§Ã£o do CRM:<br/>â€¢ Valor: US$ 100,00 (nÃ£o reembolsÃ¡vel)<br/>â€¢ Finalidade: AtivaÃ§Ã£o no sistema CRM<br/>  para rastreamento da operaÃ§Ã£o<br/>â€¢ ÃšNICO custo antecipado do processo<br/>â€¢ Pagamento via Stripe"]

    CRM_INFO --> CRM_PAID{"ğŸ’³ Pagamento de<br/>US$ 100 processado?"}

    CRM_PAID -- "âŒ NÃƒO" --> CRM_WAIT["â³ Aguardando pagamento<br/><br/>âš ï¸ A aplicaÃ§Ã£o NÃƒO serÃ¡<br/>finalizada nem submetida<br/>sem o depÃ³sito do CRM"]
    CRM_WAIT --> CRM_PAID

    CRM_PAID -- "âœ… SIM" --> CRM_ACTIVATED["âœ… OperaÃ§Ã£o Ativada no CRM<br/>Dropbox compartilhado com o cliente"]

    %% ===== ETAPA 5: TERM SHEET =====
    CRM_ACTIVATED --> E5_HEADER{{"âš™ï¸ ETAPA 5: FOLHA DE TERMOS (Term Sheet)<br/>ğŸ“„ Term Sheet Redacted (1).pdf"}}

    E5_HEADER --> E5_TERMS["ğŸ“œ TERMOS DO EMPRÃ‰STIMO:<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ“Œ Valor do EmprÃ©stimo: (conforme solicitado)<br/>ğŸ“Œ Entrada (Down Payment): 10% do valor<br/>ğŸ“Œ Taxa de Juros: 6% (somente juros)<br/>ğŸ“Œ Prazo: 10 anos<br/>ğŸ“Œ QuitaÃ§Ã£o: Pagamento balloon ao final<br/>ğŸ“Œ AmortizaÃ§Ã£o: Somente juros (Interest Only)<br/>ğŸ“Œ Multa por quitaÃ§Ã£o antecipada: Nenhuma<br/>ğŸ“Œ Taxa de avaliaÃ§Ã£o: N/A<br/>ğŸ“Œ Empresa de TÃ­tulos: N/A"]

    E5_TERMS --> E5_FEES["ğŸ’° TAXAS (pagas na liberaÃ§Ã£o dos recursos):<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ 4% â€” Taxa de serviÃ§o Grammont<br/>â€¢ 5% â€” Taxa do credor<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Total: 9% deduzido na liberaÃ§Ã£o"]

    E5_FEES --> E5_SIGN{"âœï¸ ASSINATURA DA FOLHA DE TERMOS<br/><br/>â° Validade do compromisso:<br/>72 HORAS para:<br/>1. Assinar a Folha de Termos<br/>2. Depositar 10% em conta escrow"}

    E5_SIGN -- "âŒ NÃ£o assinado em 72h" --> E5_EXPIRED["ğŸš« FOLHA DE TERMOS EXPIRADA<br/>CondiÃ§Ãµes sujeitas a alteraÃ§Ã£o<br/><br/>NecessÃ¡rio renegociar os termos"]
    E5_EXPIRED --> E5_HEADER

    E5_SIGN -- "âœ… Assinado em 72h" --> ESCROW

    %% ===== DEPÃ“SITO EM ESCROW =====
    ESCROW{{"ğŸ›ï¸ DEPÃ“SITO EM CONTA ESCROW"}}

    ESCROW --> ESCROW_DETAILS["ğŸ” InstruÃ§Ãµes de DepÃ³sito:<br/><br/>â€¢ 10% do valor do emprÃ©stimo<br/>â€¢ Via transferÃªncia bancÃ¡ria (wire transfer)<br/>â€¢ Destino: Conta escrow do ADVOGADO<br/>â€¢ âš ï¸ OBRIGATÃ“RIO: deve ser a conta<br/>  escrow do advogado â€” caso contrÃ¡rio,<br/>  a operaÃ§Ã£o serÃ¡ cancelada"]

    ESCROW_DETAILS --> ESCROW_CHECK{"ğŸ’° DepÃ³sito de 10%<br/>recebido na conta escrow<br/>do advogado?"}

    ESCROW_CHECK -- "âŒ NÃƒO" --> ESCROW_DEAD["â˜ ï¸ OPERAÃ‡ÃƒO CANCELADA<br/><br/>Os recursos DEVEM estar na<br/>conta escrow do advogado.<br/>Sem exceÃ§Ãµes."]

    ESCROW_CHECK -- "âœ… SIM" --> TIMELINE_START["â±ï¸ CRONÃ”METRO INICIADO!<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>60 a 90 dias Ãºteis<br/>para liberaÃ§Ã£o dos recursos<br/>(pode estender atÃ© 180 dias)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"]

    %% ===== PERÃODO DE PROCESSAMENTO =====
    TIMELINE_START --> PROCESSING["ğŸ”„ PERÃODO DE PROCESSAMENTO<br/><br/>â€¢ AnÃ¡lise pelo credor (lender)<br/>â€¢ DiligÃªncia prÃ©via (due diligence)<br/>â€¢ VerificaÃ§Ãµes adicionais<br/><br/>âš ï¸ O credor pode solicitar<br/>informaÃ§Ãµes complementares<br/>a qualquer momento"]

    PROCESSING --> ADD_INFO{"ğŸ“¨ O credor solicitou<br/>informaÃ§Ãµes adicionais?"}

    ADD_INFO -- "SIM" --> PROVIDE_INFO["ğŸ“¤ Cliente fornece os<br/>documentos adicionais<br/>solicitados pelo credor"]
    PROVIDE_INFO --> PROCESSING

    ADD_INFO -- "NÃƒO" --> FUNDING

    %% ===== LIBERAÃ‡ÃƒO FINAL DOS RECURSOS =====
    FUNDING(["ğŸ‰ LIBERAÃ‡ÃƒO FINAL DOS RECURSOS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ’° Cliente recebe os recursos<br/>completos do credor<br/><br/>ğŸ“Š Resumo das DeduÃ§Ãµes:<br/>â€¢ 4% taxa Grammont (na liberaÃ§Ã£o)<br/>â€¢ 5% taxa do credor (na liberaÃ§Ã£o)<br/><br/>ğŸ“… Prazo: 60â€“90 dias Ãºteis<br/>apÃ³s depÃ³sito em escrow<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>âœ… PROCESSO CONCLUÃDO"])

    %% ===== ROAD MAP VISUAL (referÃªncia) =====
    ROADMAP["ğŸ“ ROTEIRO DE CAPTAÃ‡ÃƒO<br/>(Road Map to Funding.pdf)<br/><br/>1ï¸âƒ£ Apresentar um Projeto ViÃ¡vel<br/>2ï¸âƒ£ Demonstrar Atividade Financeira<br/>3ï¸âƒ£ Fornecer um Plano de NegÃ³cios SÃ³lido<br/>4ï¸âƒ£ Seu Compromisso (10%)<br/>5ï¸âƒ£ Trabalhar com o Parceiro Certo<br/>   â†’ Grammont Enterprises<br/>   â†’ AtÃ© 90% sem garantia pessoal<br/>   â†’ Aproximadamente 60 dias Ãºteis"]

    START -.-> ROADMAP

    %% ===== ESTILOS =====
    classDef startEnd fill:#D4A843,stroke:#8B6914,stroke-width:3px,color:#1a1a1a,font-weight:bold
    classDef etapaHeader fill:#2C3E50,stroke:#1a252f,stroke-width:2px,color:#FFFFFF,font-weight:bold
    classDef action fill:#EBF5FB,stroke:#2980B9,stroke-width:1px,color:#1a1a1a
    classDef decision fill:#FEF9E7,stroke:#F39C12,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef success fill:#D5F5E3,stroke:#27AE60,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef danger fill:#FADBD8,stroke:#E74C3C,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef payment fill:#F5EEF8,stroke:#8E44AD,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef roadmap fill:#FCF3CF,stroke:#D4A843,stroke-width:2px,color:#1a1a1a,font-style:italic

    class START,FUNDING startEnd
    class E1_HEADER,E2_HEADER,E3_HEADER,E4_HEADER,E5_HEADER,DOCS_HEADER,CRM_PAYMENT,ESCROW etapaHeader
    class CONTACT,E1_COLLECT,E2_PF,E2_PJ,E3_ASSETS,E3_LIABILITIES,E3_INCOME,E4_EXEC,E4_OPS,E4_FIN,E4_CRITICAL,DOCS_LIST,CRM_INFO,E5_TERMS,E5_FEES,ESCROW_DETAILS,PROCESSING,PROVIDE_INFO action
    class E1_CHECK,E2_TYPE,DOCS_CHECK,CRM_PAID,E5_SIGN,ESCROW_CHECK,ADD_INFO decision
    class E1_VALIDATED,E2_VALIDATED,E3_VALIDATED,E4_VALIDATED,CRM_ACTIVATED,E3_CALC,TIMELINE_START success
    class E1_FAIL,ESCROW_DEAD,E5_EXPIRED danger
    class E1_RETRY,DOCS_PENDING,CRM_WAIT action
    class ROADMAP roadmap
      </pre>
    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- HINT + VERSION -->
<div class="hint">v2.2 Â· 03.02.2026 &nbsp;|&nbsp; Arraste para mover Â· Scroll para zoom Â· BotÃµes no topo para controle</div>

<!-- MERMAID CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.1/mermaid.min.js"></script>

<script>
  // â”€â”€ STATE â”€â”€
  var scale = 1;
  var panX = 0, panY = 0;
  var isDragging = false;
  var startX, startY;
  var MIN_SCALE = 0.05;
  var MAX_SCALE = 4;
  var ZOOM_STEP = 0.15;

  var container = document.getElementById('canvasContainer');
  var inner = document.getElementById('canvasInner');
  var zoomDisplay = document.getElementById('zoomLevel');

  // â”€â”€ INIT MERMAID â€” curve linear para setas retas â”€â”€
  mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
      primaryColor: '#D4A843',
      primaryTextColor: '#1a1a1a',
      primaryBorderColor: '#B8860B',
      lineColor: '#333333',
      secondaryColor: '#f5f0e1',
      tertiaryColor: '#fff8e7',
      fontSize: '14px'
    },
    flowchart: {
      useMaxWidth: false,
      htmlLabels: true,
      curve: 'linear',
      diagramPadding: 20,
      nodeSpacing: 30,
      rankSpacing: 40
    },
    securityLevel: 'loose'
  });

  // â”€â”€ AFTER RENDER â”€â”€
  mermaid.run().then(function() {
    setTimeout(function() {
      fitToScreen();
      document.getElementById('loading').classList.add('hidden');
    }, 800);
  });

  // â”€â”€ TRANSFORM â”€â”€
  function applyTransform() {
    inner.style.transform = 'translate(' + panX + 'px, ' + panY + 'px) scale(' + scale + ')';
    zoomDisplay.textContent = Math.round(scale * 100) + '%';
  }

  // â”€â”€ ZOOM â”€â”€
  function zoomIn() {
    scale = Math.min(MAX_SCALE, scale + ZOOM_STEP);
    applyTransform();
  }

  function zoomOut() {
    scale = Math.max(MIN_SCALE, scale - ZOOM_STEP);
    applyTransform();
  }

  function fitToScreen() {
    var output = document.getElementById('mermaid-output');
    var svg = output.querySelector('svg');
    if (!svg) return;
    var svgW = svg.getBoundingClientRect().width / scale;
    var svgH = svg.getBoundingClientRect().height / scale;
    var padW = 64;
    var padH = 64;
    var totalW = svgW + padW;
    var totalH = svgH + padH;
    var availW = container.clientWidth - 40;
    var availH = container.clientHeight - 40;
    scale = Math.min(availW / totalW, availH / totalH, 2);
    scale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, scale));
    var scaledW = totalW * scale;
    var scaledH = totalH * scale;
    panX = (availW - scaledW) / 2 + 20;
    panY = (availH - scaledH) / 2 + 20;
    applyTransform();
  }

  // â”€â”€ MOUSE DRAG â”€â”€
  container.addEventListener('mousedown', function(e) {
    isDragging = true;
    startX = e.clientX - panX;
    startY = e.clientY - panY;
  });

  window.addEventListener('mousemove', function(e) {
    if (!isDragging) return;
    panX = e.clientX - startX;
    panY = e.clientY - startY;
    applyTransform();
  });

  window.addEventListener('mouseup', function() { isDragging = false; });

  // â”€â”€ TOUCH DRAG â”€â”€
  container.addEventListener('touchstart', function(e) {
    if (e.touches.length === 1) {
      isDragging = true;
      startX = e.touches[0].clientX - panX;
      startY = e.touches[0].clientY - panY;
    }
    if (e.touches.length >= 2) {
      e.preventDefault();
    }
  }, { passive: false });

  container.addEventListener('touchmove', function(e) {
    e.preventDefault();
    if (isDragging && e.touches.length === 1) {
      panX = e.touches[0].clientX - startX;
      panY = e.touches[0].clientY - startY;
      applyTransform();
    }
  }, { passive: false });

  container.addEventListener('touchend', function() { isDragging = false; });

  // â”€â”€ SCROLL ZOOM com ponto focal no cursor â”€â”€
  container.addEventListener('wheel', function(e) {
    e.preventDefault();
    var rect = container.getBoundingClientRect();
    var mouseX = e.clientX - rect.left;
    var mouseY = e.clientY - rect.top;
    var prevScale = scale;
    if (e.deltaY < 0) {
      scale = Math.min(MAX_SCALE, scale * 1.1);
    } else {
      scale = Math.max(MIN_SCALE, scale / 1.1);
    }
    var ratio = scale / prevScale;
    panX = mouseX - ratio * (mouseX - panX);
    panY = mouseY - ratio * (mouseY - panY);
    applyTransform();
  }, { passive: false });

  // â”€â”€ PINCH ZOOM (mobile) â”€â”€
  var lastPinchDist = 0;
  container.addEventListener('touchstart', function(e) {
    if (e.touches.length === 2) {
      e.preventDefault();
      isDragging = false;
      var dx = e.touches[0].clientX - e.touches[1].clientX;
      var dy = e.touches[0].clientY - e.touches[1].clientY;
      lastPinchDist = Math.sqrt(dx * dx + dy * dy);
    }
  }, { passive: false });

  container.addEventListener('touchmove', function(e) {
    if (e.touches.length === 2) {
      e.preventDefault();
      var dx = e.touches[0].clientX - e.touches[1].clientX;
      var dy = e.touches[0].clientY - e.touches[1].clientY;
      var dist = Math.sqrt(dx * dx + dy * dy);
      if (lastPinchDist > 0) {
        var ratio = dist / lastPinchDist;
        var midX = (e.touches[0].clientX + e.touches[1].clientX) / 2;
        var midY = (e.touches[0].clientY + e.touches[1].clientY) / 2;
        var rect = container.getBoundingClientRect();
        var cx = midX - rect.left;
        var cy = midY - rect.top;
        var prevScale = scale;
        scale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, scale * ratio));
        var r = scale / prevScale;
        panX = cx - r * (cx - panX);
        panY = cy - r * (cy - panY);
        applyTransform();
      }
      lastPinchDist = dist;
    }
  }, { passive: false });

  container.addEventListener('touchend', function(e) {
    if (e.touches.length < 2) lastPinchDist = 0;
  });

  // â”€â”€ EXPORT PNG â”€â”€
  function exportPNG() {
    var svgEl = document.querySelector('#mermaid-output svg');
    if (!svgEl) { showToast('Erro: diagrama nÃ£o encontrado.'); return; }

    showToast('Gerando imagem em alta resoluÃ§Ã£o...');

    var svgClone = svgEl.cloneNode(true);
    svgClone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
    svgClone.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');

    var styleEl = document.createElementNS('http://www.w3.org/2000/svg', 'style');
    styleEl.textContent = '* { font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }';
    svgClone.insertBefore(styleEl, svgClone.firstChild);

    var foreignObjects = svgClone.querySelectorAll('foreignObject');
    foreignObjects.forEach(function(fo) {
      var divs = fo.querySelectorAll('div');
      divs.forEach(function(d) {
        if (!d.style.backgroundColor) {
          d.style.backgroundColor = 'transparent';
        }
      });
    });

    var svgData = new XMLSerializer().serializeToString(svgClone);
    var svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
    var url = URL.createObjectURL(svgBlob);

    var img = new Image();
    img.onload = function() {
      var multiplier = 3;
      var canvas = document.createElement('canvas');
      canvas.width = img.naturalWidth * multiplier;
      canvas.height = img.naturalHeight * multiplier;
      var ctx = canvas.getContext('2d');
      ctx.fillStyle = '#FFFFFF';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.scale(multiplier, multiplier);
      ctx.drawImage(img, 0, 0);
      URL.revokeObjectURL(url);

      canvas.toBlob(function(blob) {
        var a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'Grammont_Fluxo_Captacao_90-10.png';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(a.href);
        showToast('âœ… Imagem PNG exportada com sucesso!');
      }, 'image/png');
    };
    img.onerror = function() {
      URL.revokeObjectURL(url);
      showToast('Erro ao gerar imagem. Tente novamente.');
    };
    img.src = url;
  }

  // â”€â”€ TOAST â”€â”€
  function showToast(msg) {
    var toast = document.getElementById('toast');
    toast.textContent = msg;
    toast.classList.add('show');
    clearTimeout(toast._timer);
    toast._timer = setTimeout(function() { toast.classList.remove('show'); }, 3000);
  }

  // â”€â”€ BLOCK NATIVE ZOOM GLOBALLY â”€â”€
  // Prevent double-tap zoom on the whole page
  var lastTouchEnd = 0;
  document.addEventListener('touchend', function(e) {
    var now = Date.now();
    if (now - lastTouchEnd <= 300) {
      e.preventDefault();
    }
    lastTouchEnd = now;
  }, { passive: false });

  // Prevent pinch zoom on anything outside canvas (header, etc.)
  document.addEventListener('gesturestart', function(e) {
    e.preventDefault();
  }, { passive: false });

  document.addEventListener('gesturechange', function(e) {
    e.preventDefault();
  }, { passive: false });

  // â”€â”€ KEYBOARD SHORTCUTS â”€â”€
  document.addEventListener('keydown', function(e) {
    if (e.key === '+' || e.key === '=') zoomIn();
    if (e.key === '-') zoomOut();
    if (e.key === '0') fitToScreen();
  });
</script>
</body>
</html>
