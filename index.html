<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Grammont Enterprises â€” Funding Process Flow 90/10</title>

<!-- Open Graph â€” Preview no WhatsApp / Redes Sociais -->
<meta property="og:title" content="Grammont Enterprises â€” Fluxo 90/10">
<meta property="og:description" content="Interactive flowchart of the 90/10 private loan funding process. Client puts down 10%, Grammont funds 90%. View all funding stages.">
<meta property="og:type" content="website">
<meta name="description" content="Complete flowchart of Grammont Enterprises' 90/10 private loan process. All stages: Intake, KYC, Financial Statement, Business Plan and Term Sheet.">

<style>
  @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --gold: #D4A843;
    --gold-dark: #8B6914;
    --charcoal: #1a1a1a;
    --slate: #2C3E50;
    --cream: #FFF8E7;
    --white: #FFFFFF;
  }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--charcoal);
    color: var(--white);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
  }

  /* â”€â”€ HEADER â”€â”€ */
  .header {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 100;
    background: linear-gradient(135deg, var(--charcoal) 0%, #2a2218 100%);
    border-bottom: 2px solid var(--gold);
    padding: 12px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.5);
  }

  .header-brand {
    display: flex;
    align-items: center;
    gap: 14px;
  }

  .header-logo {
    width: 44px; height: 44px;
    background: var(--gold);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
    color: var(--charcoal);
    flex-shrink: 0;
  }

  .header-title {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    color: var(--gold);
    letter-spacing: 0.5px;
  }

  .header-subtitle {
    font-size: 11px;
    color: #aaa;
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-top: 2px;
  }

  .header-controls {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    border: 1.5px solid var(--gold);
    border-radius: 6px;
    background: transparent;
    color: var(--gold);
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
  }

  .btn:hover {
    background: var(--gold);
    color: var(--charcoal);
  }

  .btn-primary {
    background: var(--gold);
    color: var(--charcoal);
  }

  .btn-primary:hover {
    background: #e6bc5a;
    border-color: #e6bc5a;
  }

  .btn-icon {
    padding: 8px 10px;
    font-size: 16px;
    min-width: 36px;
    justify-content: center;
  }

  .zoom-display {
    font-size: 12px;
    color: #888;
    min-width: 42px;
    text-align: center;
    font-variant-numeric: tabular-nums;
  }

  /* â”€â”€ LANGUAGE SELECTOR â”€â”€ */
  .lang-toggle {
    display: flex;
    align-items: center;
    border: 1.5px solid var(--gold);
    border-radius: 6px;
    overflow: hidden;
    flex-shrink: 0;
  }

  .lang-btn {
    padding: 7px 12px;
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    font-weight: 700;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    background: transparent;
    color: var(--gold);
    letter-spacing: 0.5px;
  }

  .lang-btn.active {
    background: var(--gold);
    color: var(--charcoal);
  }

  .lang-btn:not(.active):hover {
    background: rgba(212,168,67,0.15);
  }

  .lang-divider {
    width: 1.5px;
    height: 20px;
    background: var(--gold);
    opacity: 0.4;
  }

  /* â”€â”€ CANVAS â”€â”€ */
  .canvas-container {
    position: fixed;
    top: 72px; left: 0; right: 0; bottom: 0;
    overflow: hidden;
    cursor: grab;
    touch-action: none;
    -ms-touch-action: none;
    background:
      radial-gradient(circle at 20% 30%, rgba(212,168,67,0.03) 0%, transparent 50%),
      radial-gradient(circle at 80% 70%, rgba(212,168,67,0.02) 0%, transparent 50%),
      var(--charcoal);
  }

  .canvas-container:active { cursor: grabbing; }

  .canvas-inner {
    position: absolute;
    transform-origin: 0 0;
    padding: 40px;
  }

  .mermaid-panel {
    background: var(--white);
    border-radius: 12px;
    padding: 32px;
    box-shadow: 0 8px 48px rgba(0,0,0,0.4), 0 0 0 1px rgba(212,168,67,0.15);
  }

  .mermaid-panel svg {
    max-width: none !important;
    height: auto !important;
  }

  .mermaid-panel.hidden {
    position: absolute;
    visibility: hidden;
    pointer-events: none;
    z-index: -1;
  }

  /* â”€â”€ LOADING â”€â”€ */
  .loading-overlay {
    position: fixed;
    inset: 0;
    z-index: 200;
    background: var(--charcoal);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px;
    transition: opacity 0.5s ease;
  }

  .loading-overlay.hidden {
    opacity: 0;
    pointer-events: none;
  }

  .loading-spinner {
    width: 48px; height: 48px;
    border: 3px solid #333;
    border-top-color: var(--gold);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin { to { transform: rotate(360deg); } }

  .loading-text {
    font-size: 14px;
    color: #888;
    letter-spacing: 1px;
  }

  /* â”€â”€ TOAST â”€â”€ */
  .toast {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%) translateY(80px);
    background: var(--slate);
    color: var(--white);
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    box-shadow: 0 4px 24px rgba(0,0,0,0.4);
    border: 1px solid var(--gold);
    z-index: 150;
    opacity: 0;
    transition: all 0.35s ease;
  }

  .toast.show {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }

  /* â”€â”€ HINT â”€â”€ */
  .hint {
    position: fixed;
    bottom: 16px;
    right: 16px;
    font-size: 11px;
    color: #555;
    z-index: 50;
    pointer-events: none;
  }

  /* â”€â”€ RESPONSIVE â”€â”€ */
  @media (max-width: 640px) {
    .header { padding: 10px 12px; gap: 8px; }
    .header-title { font-size: 14px; }
    .header-subtitle { display: none; }
    .btn { padding: 6px 10px; font-size: 12px; }
    .btn .label { display: none; }
    .lang-btn { padding: 6px 8px; font-size: 11px; }
  }
</style>
</head>
<body>

<!-- LOADING -->
<div class="loading-overlay" id="loading">
  <div class="loading-spinner"></div>
  <div class="loading-text" id="loadingText">Rendering flowchart...</div>
</div>

<!-- HEADER -->
<header class="header">
  <div class="header-brand">
    <div class="header-logo">GE</div>
    <div>
      <div class="header-title">Grammont Enterprises</div>
      <div class="header-subtitle" id="headerSubtitle">Private Loans 90/10 â€” Funding Process Flow</div>
    </div>
  </div>
  <div class="header-controls">
    <!-- LANGUAGE TOGGLE -->
    <div class="lang-toggle">
      <button class="lang-btn" id="btnEN" onclick="switchLang('en')">EN</button>
      <div class="lang-divider"></div>
      <button class="lang-btn" id="btnPT" onclick="switchLang('pt')">PT</button>
    </div>

    <button class="btn btn-icon" onclick="zoomOut()" title="Zoom out">âˆ’</button>
    <span class="zoom-display" id="zoomLevel">100%</span>
    <button class="btn btn-icon" onclick="zoomIn()" title="Zoom in">+</button>
    <button class="btn btn-icon" onclick="fitToScreen()" title="Fit to screen">âŠ</button>
    <button class="btn btn-primary" onclick="exportPNG()">
      â¬‡ <span class="label" id="exportLabel">Export PNG</span>
    </button>
  </div>
</header>

<!-- CANVAS -->
<div class="canvas-container" id="canvasContainer">
  <div class="canvas-inner" id="canvasInner">

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ENGLISH DIAGRAM (default) -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="diagram-en" class="mermaid-panel">
      <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': {'primaryColor': '#D4A843', 'primaryTextColor': '#1a1a1a', 'primaryBorderColor': '#B8860B', 'lineColor': '#333333', 'secondaryColor': '#f5f0e1', 'tertiaryColor': '#fff8e7', 'fontSize': '14px'}}}%%

flowchart TD

    %% ===== START =====
    START(["ğŸ¦ GRAMMONT ENTERPRISES<br/>Private Loans 90/10<br/>Funding Process Flow"])
    START --> CONTACT["ğŸ“ Initial Client Contact<br/>â€” Presentation of the 90/10 model â€”<br/>Client puts down 10%, Grammont funds 90%<br/>Only upfront fee: $100 CRM deposit"]

    %% ===== STAGE 1: SCREENING & INTAKE =====
    CONTACT --> E1_HEADER{{"âš™ï¸ STAGE 1: SCREENING &amp; INTAKE<br/>ğŸ“„ Business Intake Form 4-2025.pdf"}}

    E1_HEADER --> E1_COLLECT["ğŸ“‹ Client Data Collection:<br/>â€¢ Client's Name<br/>â€¢ Company Name<br/>â€¢ Location Address to be Funded<br/>â€¢ Date Company Started (MM/DD/YYYY)<br/>â€¢ Credit Score from Three Bureaus (USA Only)<br/>â€¢ Appraisal for the Location Being Funded<br/>â€¢ How Much Funding Do You Need<br/>â€¢ What Does Your Business Do<br/>â€¢ Monthly Company Gross Income<br/>  Deposited in Your Bank Account<br/>â€¢ Home Address<br/>â€¢ Business Address<br/>â€¢ Business Phone #<br/>â€¢ Cell Phone #<br/>â€¢ SS# or Passport Copy<br/>â€¢ Date of Birth<br/>â€¢ Business Tax ID (EIN)<br/>â€¢ Business Email<br/>â€¢ Ownership %<br/>â€¢ Tax Returns for the last two years (USA Only)"]

    E1_COLLECT --> E1_CHECK{"ğŸ” Critical Verification:<br/>Do you have 10%<br/>of the value of the loan?"}

    E1_CHECK -- "âŒ NO" --> E1_FAIL["ğŸš« FLOW INTERRUPTED<br/><br/>Suggest consulting services<br/>for fundraising<br/>(Grammont Policy)"]
    E1_FAIL --> E1_RETRY["ğŸ”„ Client may return<br/>when 10% funds are available"]
    E1_RETRY --> E1_CHECK

    E1_CHECK -- "âœ… YES" --> E1_VALIDATED["âœ… Stage 1 Validated<br/>Intake Form completed and approved"]

    %% ===== STAGE 2: COMPLIANCE & KYC =====
    E1_VALIDATED --> E2_HEADER{{"âš™ï¸ STAGE 2: COMPLIANCE &amp; KYC<br/>ğŸ“„ KYC_ApplForm.pdf"}}

    E2_HEADER --> E2_TYPE{"ğŸ¢ Applicant Type?"}

    E2_TYPE -- "ğŸ‘¤ Individual" --> E2_PF["ğŸ“ Section A â€” For Individuals<br/><br/>â€¢ Name of the Applicant<br/>â€¢ Father's / Spouse Name<br/>â€¢ Gender / Marital Status / Date of Birth<br/>â€¢ Nationality / Resident Status<br/>â€¢ PAN / Aadhaar Number (if applicable)<br/>â€¢ Proof of Identity submitted<br/>â€¢ Residence Address (full)<br/>â€¢ Contact Details (Tel, Mobile, Fax, Email)<br/>â€¢ Proof of Address submitted<br/>â€¢ Permanent Address (if different)<br/>â€¢ Recent passport-size photograph<br/>â€¢ Signed Declaration by Applicant"]

    E2_TYPE -- "ğŸ›ï¸ Non-Individual (Entity)" --> E2_PJ["ğŸ“ Section B â€” For Non-Individuals<br/><br/>â€¢ Name of the Applicant (Entity)<br/>â€¢ Date &amp; Place of Incorporation<br/>â€¢ Date of Commencement of Business<br/>â€¢ PAN / Registration No. (e.g. CIN)<br/>â€¢ Legal Status (LLC, Corp, LLP, Trust, etc.)<br/>â€¢ Correspondence Address (full)<br/>â€¢ Contact Details (Tel, Mobile, Fax, Email)<br/>â€¢ Proof of Address submitted<br/>â€¢ Registered Address (if different)<br/>â€¢ Promoters / Partners / Directors<br/>  (names, PAN, addresses, photographs)<br/>â€¢ DIN of whole time directors<br/>â€¢ Aadhaar of Promoters/Partners (if applicable)<br/>â€¢ Signed Declaration by Authorized Signatory"]

    E2_PF --> E2_VALIDATED["âœ… Stage 2 Complete<br/>KYC approved by Grammont Enterprises"]
    E2_PJ --> E2_VALIDATED

    %% ===== STAGE 3: FINANCIAL HEALTH =====
    E2_VALIDATED --> E3_HEADER{{"âš™ï¸ STAGE 3: FINANCIAL HEALTH<br/>ğŸ“„ Personal Financial Statement.pdf"}}

    E3_HEADER --> E3_ASSETS["ğŸ’° ASSETS:<br/>â€¢ Cash, Checking, Savings, Money Market<br/>â€¢ Cash Value of Life Insurance<br/>â€¢ Stocks and Bonds (Publicly Traded)<br/>â€¢ Stocks and Bonds (Not Publicly Traded)<br/>â€¢ Accounts and Notes Receivable<br/>â€¢ Mortgage and Contracts for Deeds Owned<br/>â€¢ Annuities<br/>â€¢ Retirement Accounts<br/>â€¢ Closely-Held Business Interests<br/>â€¢ Real Estate â€” Homestead<br/>â€¢ Real Estate â€” Other<br/>â€¢ Real Estate â€” Time Shares<br/>â€¢ Oil and Gas<br/>â€¢ Automobiles<br/>â€¢ Personal Property<br/>â€¢ Other Assets<br/>â€¢ Assets Held Outside the U.S."]

    E3_HEADER --> E3_LIABILITIES["ğŸ“Š LIABILITIES:<br/>â€¢ Installment Loans Payable to Institutions<br/>â€¢ Installment Loans Payable to Individuals<br/>â€¢ Credit Card Debt<br/>â€¢ Lines of Credit<br/>â€¢ Income Taxes Payable<br/>â€¢ Other Taxes Payable<br/>â€¢ Mortgage on Homestead â€” 1st Lien<br/>â€¢ Mortgage on Homestead â€” 2nd Lien<br/>â€¢ Mortgages or Liens on Other Real Estate<br/>â€¢ Contracts for Deed<br/>â€¢ Other Liabilities â€” Partnerships<br/>â€¢ Other Liabilities â€” Closely Held Businesses<br/>â€¢ Other Liabilities"]

    E3_ASSETS --> E3_CALC["ğŸ§® MANDATORY CALCULATION:<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Net Worth =<br/>Total Assets âˆ’ Total Liabilities<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"]
    E3_LIABILITIES --> E3_CALC

    E3_HEADER --> E3_INCOME["ğŸ“ˆ INCOME:<br/>â€¢ Wages, Salary<br/>â€¢ Pensions and Annuities<br/>â€¢ Social Security Benefits<br/>â€¢ Trust Income<br/>â€¢ Other Income<br/>â€¢ Business / Real Estate Income<br/>â€¢ Sales / Rent Revenue<br/>â€¢ Operating Expenses<br/>â€¢ Sale of Assets"]

    E3_INCOME --> E3_CALC
    E3_CALC --> E3_VALIDATED["âœ… Stage 3 Complete<br/>Personal Financial Statement finalized"]

    %% ===== STAGE 4: BUSINESS PLAN =====
    E3_VALIDATED --> E4_HEADER{{"âš™ï¸ STAGE 4: BUSINESS PLAN<br/>ğŸ“„ Template: redacted business plan.pdf"}}

    E4_HEADER --> E4_EXEC["ğŸ“‘ Executive Summary:<br/>â€¢ Company Description<br/>â€¢ Vision and Mission<br/>â€¢ Problem Worth Solving<br/>â€¢ Proposed Solution<br/>â€¢ Target Market<br/>â€¢ Competitive Advantages<br/>â€¢ Management Team (CEO, COO)<br/>â€¢ Advisors and Consultants"]

    E4_HEADER --> E4_OPS["ğŸ—ï¸ Operations:<br/>â€¢ Locations &amp; Facilities<br/>â€¢ Technology (ServiceTitan, CRM)<br/>â€¢ Marketing &amp; Sales Plan<br/>â€¢ Key Performance Indicators (KPIs)<br/>â€¢ Milestones &amp; Metrics"]

    E4_HEADER --> E4_FIN["ğŸ’µ Financial Plan:<br/>â€¢ Key Assumptions<br/>â€¢ Revenue by Month (projections)<br/>â€¢ Expenses by Month (projections)<br/>â€¢ Net Profit (or Loss) by Year<br/>â€¢ Gross Margin target (e.g. 42%)<br/>â€¢ EBITDA target (e.g. 25%+)"]

    E4_HEADER --> E4_CRITICAL["âš ï¸ MANDATORY SECTIONS:<br/><br/>ğŸ”‘ EXIT STRATEGY<br/>How will the loan be repaid?<br/>(e.g. PE sale, cash flow,<br/>refinancing, scaling &amp; exit)<br/><br/>ğŸ”‘ USE OF FUNDS<br/>How will the 90% + 10% be spent?<br/>(acquisitions, operations, marketing,<br/>equipment, working capital)"]

    E4_EXEC --> E4_VALIDATED["âœ… Stage 4 Complete<br/>Business Plan approved"]
    E4_OPS --> E4_VALIDATED
    E4_FIN --> E4_VALIDATED
    E4_CRITICAL --> E4_VALIDATED

    %% ===== SUPPLEMENTARY DOCUMENT PACKAGE =====
    E4_VALIDATED --> DOCS_HEADER{{"ğŸ“¦ SUPPLEMENTARY DOCUMENT PACKAGE<br/>(Per Operational Rules â€” Client Funding Process)"}}

    DOCS_HEADER --> DOCS_LIST["ğŸ“‚ Additional Documents Required:<br/><br/>a) Two valid forms of ID<br/>   (driver's license + passport)<br/>b) Completed Intake Form âœ… (already done)<br/>c) Personal Financial Statement âœ…<br/>d) Comprehensive Business Plan âœ…<br/>   (with forecast financials)<br/>e) Executive Summary + Biographies âœ…<br/>f) Proof of available funds for the 10% down<br/>   (CANNOT be fractional, line of credit<br/>   or borrowed funds)<br/>g) Six months of recent bank statements<br/>   (company or personal if new company)<br/>h) Full credit reports<br/>   (Equifax / Experian / TransUnion<br/>   or your country's agency â€” complete reports,<br/>   not just scores)<br/>i) Corporate documents (formation docs) +<br/>   2 years company financials (if existing co.)<br/>j) Company EIN or Business ID Number<br/>k) Two years of tax returns for all borrowers<br/>   (NOAs and full T1 Generals in Canada<br/>   or your country's equivalent)<br/>l) Name of the lawyer who will<br/>   process your loan<br/>m) KYC paperwork âœ… (already done)"]

    DOCS_LIST --> DOCS_CHECK{"ğŸ“‹ Is all documentation<br/>complete?"}

    DOCS_CHECK -- "âŒ INCOMPLETE" --> DOCS_PENDING["â³ Request pending<br/>documents from client<br/><br/>âš ï¸ The review process CANNOT<br/>begin until all required paperwork<br/>has been submitted in full"]
    DOCS_PENDING --> DOCS_CHECK

    DOCS_CHECK -- "âœ… COMPLETE" --> CRM_PAYMENT

    %% ===== CRM PAYMENT =====
    CRM_PAYMENT{{"ğŸ’³ CRM PAYMENT â€” $100.00 USD"}}
    CRM_PAYMENT --> CRM_INFO["ğŸ’° CRM Activation Fee:<br/>â€¢ Amount: $100.00 USD (non-refundable)<br/>â€¢ Purpose: CRM activation to track<br/>  your deal in the system<br/>â€¢ ONLY upfront fee in the entire process<br/>â€¢ Payment via Stripe:<br/>  buy.stripe.com/28E28sc5scRscxc2AWcs800"]

    CRM_INFO --> CRM_PAID{"ğŸ’³ $100 CRM deposit<br/>processed?"}

    CRM_PAID -- "âŒ NO" --> CRM_WAIT["â³ Awaiting payment<br/><br/>âš ï¸ Your application will NOT<br/>be finalized or submitted<br/>until the $100 CRM deposit<br/>has been successfully processed"]
    CRM_WAIT --> CRM_PAID

    CRM_PAID -- "âœ… YES" --> CRM_ACTIVATED["âœ… Deal Activated in CRM<br/>Dropbox shared with client"]

    %% ===== STAGE 5: TERM SHEET =====
    CRM_ACTIVATED --> E5_HEADER{{"âš™ï¸ STAGE 5: TERM SHEET<br/>ğŸ“„ Term Sheet Redacted (1).pdf"}}

    E5_HEADER --> E5_TERMS["ğŸ“œ LOAN TERMS:<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ“Œ Loan Amount: (as requested)<br/>ğŸ“Œ Down Payment: 10% of loan value<br/>ğŸ“Œ Interest Rate: 6% (Interest Only)<br/>ğŸ“Œ Loan Term: 10 years<br/>ğŸ“Œ Repayment: Balloon payment at end of term<br/>ğŸ“Œ Amortization: Interest Only<br/>ğŸ“Œ Prepayment Penalty: None<br/>ğŸ“Œ Appraisal Fee: N/A<br/>ğŸ“Œ Title Company: N/A"]

    E5_TERMS --> E5_FEES["ğŸ’° FEES (payable at funding):<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ 4% â€” Grammont service fee<br/>â€¢ 5% â€” Lender fee<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Total: 9% deducted at funding"]

    E5_FEES --> E5_SIGN{"âœï¸ TERM SHEET SIGNING<br/><br/>â° Commitment Validity:<br/>72 HOURS to:<br/>1. Sign the Term Sheet<br/>2. Submit the 10% deposit<br/>   to escrow"}

    E5_SIGN -- "âŒ Not signed within 72h" --> E5_EXPIRED["ğŸš« TERM SHEET EXPIRED<br/>Terms and timelines are<br/>subject to change<br/><br/>Must renegotiate terms"]
    E5_EXPIRED --> E5_HEADER

    E5_SIGN -- "âœ… Signed within 72h" --> ESCROW

    %% ===== ESCROW DEPOSIT =====
    ESCROW{{"ğŸ›ï¸ ESCROW DEPOSIT"}}

    ESCROW --> ESCROW_DETAILS["ğŸ” Wiring Instructions:<br/><br/>â€¢ 10% of the loan amount<br/>â€¢ Via wire transfer<br/>â€¢ Destination: Attorney's escrow account<br/>â€¢ âš ï¸ MANDATORY: Funds MUST be wired<br/>  to the lawyer's escrow account â€”<br/>  otherwise it will be a dead deal"]

    ESCROW_DETAILS --> ESCROW_CHECK{"ğŸ’° 10% deposit received<br/>in attorney's escrow<br/>account?"}

    ESCROW_CHECK -- "âŒ NO" --> ESCROW_DEAD["â˜ ï¸ DEAL CANCELLED<br/><br/>Funds MUST be in the<br/>attorney's escrow account.<br/>No exceptions."]

    ESCROW_CHECK -- "âœ… YES" --> TIMELINE_START["â±ï¸ CLOCK STARTS!<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>60 to 90 business days<br/>to full funding<br/>(may extend up to 180 days)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"]

    %% ===== PROCESSING PERIOD =====
    TIMELINE_START --> PROCESSING["ğŸ”„ PROCESSING PERIOD<br/><br/>â€¢ Lender review &amp; analysis<br/>â€¢ Due diligence<br/>â€¢ Additional verifications<br/><br/>âš ï¸ The lender may request<br/>additional information<br/>at any time"]

    PROCESSING --> ADD_INFO{"ğŸ“¨ Has the lender requested<br/>additional information?"}

    ADD_INFO -- "YES" --> PROVIDE_INFO["ğŸ“¤ Client provides the<br/>additional documents<br/>requested by the lender"]
    PROVIDE_INFO --> PROCESSING

    ADD_INFO -- "NO" --> FUNDING

    %% ===== FINAL FUNDING =====
    FUNDING(["ğŸ‰ FINAL FUNDING<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ’° Client receives the full funds<br/>from the lender<br/><br/>ğŸ“Š Fee Summary (deducted at funding):<br/>â€¢ 4% Grammont service fee<br/>â€¢ 5% Lender fee<br/><br/>ğŸ“… Timeline: 60â€“90 business days<br/>after escrow deposit<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>âœ… PROCESS COMPLETE"])

    %% ===== ROAD MAP VISUAL (reference) =====
    ROADMAP["ğŸ“ FUNDING ROADMAP<br/>(Road Map to Funding.pdf)<br/><br/>1ï¸âƒ£ Present a Viable Project<br/>2ï¸âƒ£ Show Financial Activity<br/>3ï¸âƒ£ Provide a Solid Business Plan<br/>4ï¸âƒ£ Your Commitment (10% + $100 CRM)<br/>   â†’ A $100 USD CRM activation fee is required<br/>   â†’ Timeline starts when 10% is in attorney's escrow<br/>5ï¸âƒ£ Work with the Right Partner<br/>   â†’ Grammont Enterprises<br/>   â†’ Up to 90% without personal guarantees<br/>   â†’ Typically within 60 to 90 business days<br/>   â†’ Service &amp; lender fees (9% total) paid at funding"]

    START -.-> ROADMAP

    %% ===== STYLES =====
    classDef startEnd fill:#D4A843,stroke:#8B6914,stroke-width:3px,color:#1a1a1a,font-weight:bold
    classDef etapaHeader fill:#2C3E50,stroke:#1a252f,stroke-width:2px,color:#FFFFFF,font-weight:bold
    classDef action fill:#EBF5FB,stroke:#2980B9,stroke-width:1px,color:#1a1a1a
    classDef decision fill:#FEF9E7,stroke:#F39C12,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef success fill:#D5F5E3,stroke:#27AE60,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef danger fill:#FADBD8,stroke:#E74C3C,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef payment fill:#F5EEF8,stroke:#8E44AD,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef roadmap fill:#FCF3CF,stroke:#D4A843,stroke-width:2px,color:#1a1a1a,font-style:italic

    class START,FUNDING startEnd
    class E1_HEADER,E2_HEADER,E3_HEADER,E4_HEADER,E5_HEADER,DOCS_HEADER,CRM_PAYMENT,ESCROW etapaHeader
    class CONTACT,E1_COLLECT,E2_PF,E2_PJ,E3_ASSETS,E3_LIABILITIES,E3_INCOME,E4_EXEC,E4_OPS,E4_FIN,E4_CRITICAL,DOCS_LIST,CRM_INFO,E5_TERMS,E5_FEES,ESCROW_DETAILS,PROCESSING,PROVIDE_INFO action
    class E1_CHECK,E2_TYPE,DOCS_CHECK,CRM_PAID,E5_SIGN,ESCROW_CHECK,ADD_INFO decision
    class E1_VALIDATED,E2_VALIDATED,E3_VALIDATED,E4_VALIDATED,CRM_ACTIVATED,E3_CALC,TIMELINE_START success
    class E1_FAIL,ESCROW_DEAD,E5_EXPIRED danger
    class E1_RETRY,DOCS_PENDING,CRM_WAIT action
    class ROADMAP roadmap
      </pre>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- PORTUGUESE DIAGRAM -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="diagram-pt" class="mermaid-panel">
      <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': {'primaryColor': '#D4A843', 'primaryTextColor': '#1a1a1a', 'primaryBorderColor': '#B8860B', 'lineColor': '#333333', 'secondaryColor': '#f5f0e1', 'tertiaryColor': '#fff8e7', 'fontSize': '14px'}}}%%

flowchart TD

    %% ===== INÃCIO =====
    START(["ğŸ¦ GRAMMONT ENTERPRISES<br/>EmprÃ©stimos Privados 90/10<br/>Fluxo de CaptaÃ§Ã£o de Recursos"])
    START --> CONTACT["ğŸ“ Contato Inicial com o Cliente<br/>â€” ApresentaÃ§Ã£o do modelo 90/10 â€”<br/>Cliente entra com 10%, Grammont financia 90%<br/>Ãšnica taxa antecipada: US$ 100 depÃ³sito CRM"]

    %% ===== ETAPA 1: TRIAGEM E INTAKE =====
    CONTACT --> E1_HEADER{{"âš™ï¸ ETAPA 1: TRIAGEM &amp; INTAKE<br/>ğŸ“„ Business Intake Form 4-2025.pdf"}}

    E1_HEADER --> E1_COLLECT["ğŸ“‹ Coleta de Dados do Cliente:<br/>â€¢ Nome completo (Client's Name)<br/>â€¢ Nome da empresa (Company Name)<br/>â€¢ EndereÃ§o do local a ser financiado<br/>â€¢ Data de inÃ­cio da empresa (MM/DD/YYYY)<br/>â€¢ PontuaÃ§Ã£o de crÃ©dito â€” 3 bureaus (somente EUA)<br/>â€¢ AvaliaÃ§Ã£o do imÃ³vel a ser financiado<br/>â€¢ Valor do emprÃ©stimo solicitado<br/>â€¢ DescriÃ§Ã£o do negÃ³cio<br/>â€¢ Receita bruta mensal depositada em conta<br/>â€¢ EndereÃ§o residencial<br/>â€¢ EndereÃ§o comercial<br/>â€¢ Telefones (comercial + celular)<br/>â€¢ SSN ou cÃ³pia do passaporte<br/>â€¢ Data de nascimento<br/>â€¢ IdentificaÃ§Ã£o fiscal da empresa (EIN / Tax ID)<br/>â€¢ E-mail empresarial<br/>â€¢ Percentual de participaÃ§Ã£o societÃ¡ria<br/>â€¢ DeclaraÃ§Ãµes de imposto dos Ãºltimos 2 anos (somente EUA)"]

    E1_COLLECT --> E1_CHECK{"ğŸ” VerificaÃ§Ã£o CrÃ­tica:<br/>O cliente possui 10%<br/>do valor do emprÃ©stimo?"}

    E1_CHECK -- "âŒ NÃƒO" --> E1_FAIL["ğŸš« FLUXO INTERROMPIDO<br/><br/>Sugerir serviÃ§os de consultoria<br/>para captaÃ§Ã£o de recursos<br/>(PolÃ­tica Grammont)"]
    E1_FAIL --> E1_RETRY["ğŸ”„ Cliente pode retornar<br/>quando dispuser dos 10%"]
    E1_RETRY --> E1_CHECK

    E1_CHECK -- "âœ… SIM" --> E1_VALIDATED["âœ… Etapa 1 Validada<br/>FormulÃ¡rio de Intake preenchido e aprovado"]

    %% ===== ETAPA 2: COMPLIANCE E KYC =====
    E1_VALIDATED --> E2_HEADER{{"âš™ï¸ ETAPA 2: COMPLIANCE &amp; KYC<br/>ğŸ“„ KYC_ApplForm.pdf"}}

    E2_HEADER --> E2_TYPE{"ğŸ¢ Tipo de Solicitante?"}

    E2_TYPE -- "ğŸ‘¤ Pessoa FÃ­sica" --> E2_PF["ğŸ“ SeÃ§Ã£o A â€” Pessoa FÃ­sica (Individuals)<br/><br/>â€¢ Nome do solicitante<br/>â€¢ Nome do pai ou cÃ´njuge<br/>â€¢ GÃªnero / Estado civil / Data de nascimento<br/>â€¢ Nacionalidade / Status de residÃªncia<br/>â€¢ PAN / Aadhaar (se aplicÃ¡vel)<br/>â€¢ Documento de identidade apresentado<br/>â€¢ EndereÃ§o residencial completo<br/>â€¢ Contatos (telefone, celular, fax, e-mail)<br/>â€¢ Comprovante de endereÃ§o<br/>â€¢ EndereÃ§o permanente (se diferente)<br/>â€¢ Foto 3x4 recente<br/>â€¢ DeclaraÃ§Ã£o assinada pelo solicitante"]

    E2_TYPE -- "ğŸ›ï¸ Pessoa JurÃ­dica" --> E2_PJ["ğŸ“ SeÃ§Ã£o B â€” Pessoa JurÃ­dica (Non-Individuals)<br/><br/>â€¢ RazÃ£o social da empresa<br/>â€¢ Data e local de constituiÃ§Ã£o<br/>â€¢ Data de inÃ­cio das atividades<br/>â€¢ PAN / NÂº de registro (ex.: CIN, CNPJ)<br/>â€¢ Tipo jurÃ­dico (LLC, Corp, Ltda, etc.)<br/>â€¢ EndereÃ§o para correspondÃªncia<br/>â€¢ Contatos (telefone, celular, fax, e-mail)<br/>â€¢ Comprovante de endereÃ§o<br/>â€¢ EndereÃ§o registrado (se diferente)<br/>â€¢ SÃ³cios / Diretores / Promotores<br/>  (nomes, documentos, endereÃ§os, fotos)<br/>â€¢ DIN dos diretores (se aplicÃ¡vel)<br/>â€¢ Aadhaar dos sÃ³cios (se aplicÃ¡vel)<br/>â€¢ DeclaraÃ§Ã£o assinada pelo representante"]

    E2_PF --> E2_VALIDATED["âœ… Etapa 2 Completa<br/>KYC aprovado pela Grammont Enterprises"]
    E2_PJ --> E2_VALIDATED

    %% ===== ETAPA 3: SAÃšDE FINANCEIRA =====
    E2_VALIDATED --> E3_HEADER{{"âš™ï¸ ETAPA 3: SAÃšDE FINANCEIRA<br/>ğŸ“„ Personal Financial Statement.pdf"}}

    E3_HEADER --> E3_ASSETS["ğŸ’° ATIVOS (Assets):<br/>â€¢ Caixa, Conta Corrente, PoupanÃ§a<br/>â€¢ Valor de resgate de Seguro de Vida<br/>â€¢ AÃ§Ãµes e TÃ­tulos (negociados em bolsa)<br/>â€¢ AÃ§Ãµes e TÃ­tulos (nÃ£o negociados)<br/>â€¢ Contas e Notas a Receber<br/>â€¢ Hipotecas e Contratos de propriedade<br/>â€¢ Anuidades / PrevidÃªncia<br/>â€¢ Contas de Aposentadoria<br/>â€¢ ParticipaÃ§Ãµes em empresas de capital fechado<br/>â€¢ ImÃ³vel Residencial (principal)<br/>â€¢ Outros ImÃ³veis<br/>â€¢ ImÃ³veis de Temporada (Time Shares)<br/>â€¢ PetrÃ³leo e GÃ¡s<br/>â€¢ AutomÃ³veis<br/>â€¢ Bens Pessoais<br/>â€¢ Outros Ativos<br/>â€¢ Ativos mantidos fora do paÃ­s"]

    E3_HEADER --> E3_LIABILITIES["ğŸ“Š PASSIVOS (Liabilities):<br/>â€¢ EmprÃ©stimos parcelados (InstituiÃ§Ãµes)<br/>â€¢ EmprÃ©stimos parcelados (Pessoas FÃ­sicas)<br/>â€¢ DÃ­vida de CartÃ£o de CrÃ©dito<br/>â€¢ Linhas de CrÃ©dito<br/>â€¢ Impostos de Renda a Pagar<br/>â€¢ Outros Impostos a Pagar<br/>â€¢ Hipoteca Residencial â€” 1Âº Gravame<br/>â€¢ Hipoteca Residencial â€” 2Âº Gravame<br/>â€¢ Hipotecas sobre Outros ImÃ³veis<br/>â€¢ Contratos de Compra e Venda<br/>â€¢ Outros Passivos (Sociedades)<br/>â€¢ Outros Passivos (Empresas de capital fechado)<br/>â€¢ Outros Passivos"]

    E3_ASSETS --> E3_CALC["ğŸ§® CÃLCULO OBRIGATÃ“RIO:<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>PatrimÃ´nio LÃ­quido (Net Worth) =<br/>Total de Ativos âˆ’ Total de Passivos<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"]
    E3_LIABILITIES --> E3_CALC

    E3_HEADER --> E3_INCOME["ğŸ“ˆ RENDA (Income):<br/>â€¢ SalÃ¡rios e RemuneraÃ§Ã£o<br/>â€¢ PensÃµes e Anuidades<br/>â€¢ PrevidÃªncia Social<br/>â€¢ Renda de Fideicomissos (Trusts)<br/>â€¢ Renda de NegÃ³cios / ImÃ³veis<br/>â€¢ Receita de Vendas / AluguÃ©is<br/>â€¢ Despesas Operacionais<br/>â€¢ Venda de Ativos"]

    E3_INCOME --> E3_CALC
    E3_CALC --> E3_VALIDATED["âœ… Etapa 3 Completa<br/>DeclaraÃ§Ã£o Financeira Pessoal finalizada"]

    %% ===== ETAPA 4: PLANO DE NEGÃ“CIOS =====
    E3_VALIDATED --> E4_HEADER{{"âš™ï¸ ETAPA 4: PLANO DE NEGÃ“CIOS<br/>ğŸ“„ Modelo: redacted business plan.pdf"}}

    E4_HEADER --> E4_EXEC["ğŸ“‘ SumÃ¡rio Executivo (Executive Summary):<br/>â€¢ DescriÃ§Ã£o da empresa<br/>â€¢ VisÃ£o e missÃ£o<br/>â€¢ Problema que resolve<br/>â€¢ SoluÃ§Ã£o proposta<br/>â€¢ Mercado-alvo<br/>â€¢ Vantagens competitivas<br/>â€¢ Equipe de gestÃ£o (CEO, COO)<br/>â€¢ Consultores e Assessores"]

    E4_HEADER --> E4_OPS["ğŸ—ï¸ OperaÃ§Ãµes (Operations):<br/>â€¢ LocalizaÃ§Ã£o e InstalaÃ§Ãµes<br/>â€¢ Tecnologia (ServiceTitan, CRM)<br/>â€¢ Plano de Marketing e Vendas<br/>â€¢ Indicadores-chave (KPIs)<br/>â€¢ Marcos e MÃ©tricas"]

    E4_HEADER --> E4_FIN["ğŸ’µ Plano Financeiro (Financial Plan):<br/>â€¢ Premissas principais<br/>â€¢ ProjeÃ§Ã£o de receitas (mensal)<br/>â€¢ ProjeÃ§Ã£o de despesas (mensal)<br/>â€¢ Lucro LÃ­quido por ano<br/>â€¢ Margem Bruta esperada (ex.: 42%)<br/>â€¢ EBITDA alvo (ex.: 25%+)"]

    E4_HEADER --> E4_CRITICAL["âš ï¸ SEÃ‡Ã•ES OBRIGATÃ“RIAS:<br/><br/>ğŸ”‘ ESTRATÃ‰GIA DE SAÃDA (Exit Strategy)<br/>Como o emprÃ©stimo serÃ¡ quitado?<br/>(ex.: venda para PE, fluxo de caixa,<br/>refinanciamento, escala e saÃ­da)<br/><br/>ğŸ”‘ USO DOS RECURSOS (Use of Funds)<br/>Como os 90% + 10% serÃ£o aplicados?<br/>(aquisiÃ§Ãµes, operaÃ§Ãµes, marketing,<br/>equipamentos, capital de giro)"]

    E4_EXEC --> E4_VALIDATED["âœ… Etapa 4 Completa<br/>Plano de NegÃ³cios aprovado"]
    E4_OPS --> E4_VALIDATED
    E4_FIN --> E4_VALIDATED
    E4_CRITICAL --> E4_VALIDATED

    %% ===== PACOTE DE DOCUMENTOS COMPLEMENTARES =====
    E4_VALIDATED --> DOCS_HEADER{{"ğŸ“¦ PACOTE DOCUMENTAL COMPLEMENTAR<br/>(Conforme Regras Operacionais â€” Client Funding Process)"}}

    DOCS_HEADER --> DOCS_LIST["ğŸ“‚ Documentos Adicionais Requeridos:<br/><br/>a) Duas formas de identificaÃ§Ã£o vÃ¡lidas<br/>   (driver's license + passport)<br/>b) FormulÃ¡rio de Intake âœ… (jÃ¡ completo)<br/>c) DeclaraÃ§Ã£o Financeira Pessoal âœ…<br/>d) Plano de NegÃ³cios completo âœ…<br/>   (com projeÃ§Ãµes financeiras)<br/>e) SumÃ¡rio Executivo + Biografias âœ…<br/>f) ComprovaÃ§Ã£o dos 10% disponÃ­veis<br/>   (NÃƒO pode ser crÃ©dito, linha de crÃ©dito<br/>   ou recurso emprestado)<br/>g) 6 meses de extratos bancÃ¡rios<br/>   (da empresa ou pessoais, se empresa nova)<br/>h) RelatÃ³rios completos de crÃ©dito<br/>   (Equifax / Experian / TransUnion<br/>   ou agÃªncia equivalente do seu paÃ­s â€”<br/>   relatÃ³rios completos, nÃ£o apenas scores)<br/>i) Documentos societÃ¡rios (formation docs) +<br/>   2 anos de demonstraÃ§Ãµes financeiras (se existente)<br/>j) EIN ou IdentificaÃ§Ã£o Fiscal da empresa<br/>k) 2 anos de declaraÃ§Ãµes de imposto<br/>   (NOAs e T1 Generals no CanadÃ¡ ou equivalente)<br/>l) Nome do advogado responsÃ¡vel pelo emprÃ©stimo<br/>m) KYC âœ… (jÃ¡ completo)"]

    DOCS_LIST --> DOCS_CHECK{"ğŸ“‹ Toda a documentaÃ§Ã£o<br/>estÃ¡ completa?"}

    DOCS_CHECK -- "âŒ INCOMPLETA" --> DOCS_PENDING["â³ Solicitar documentos<br/>pendentes ao cliente<br/><br/>âš ï¸ O processo de revisÃ£o NÃƒO<br/>pode comeÃ§ar sem toda a<br/>documentaÃ§Ã£o completa"]
    DOCS_PENDING --> DOCS_CHECK

    DOCS_CHECK -- "âœ… COMPLETA" --> CRM_PAYMENT

    %% ===== PAGAMENTO CRM =====
    CRM_PAYMENT{{"ğŸ’³ PAGAMENTO CRM â€” US$ 100,00"}}
    CRM_PAYMENT --> CRM_INFO["ğŸ’° Taxa de AtivaÃ§Ã£o do CRM:<br/>â€¢ Valor: US$ 100,00 (nÃ£o reembolsÃ¡vel)<br/>â€¢ Finalidade: AtivaÃ§Ã£o no sistema CRM<br/>  para rastreamento da operaÃ§Ã£o<br/>â€¢ ÃšNICO custo antecipado do processo<br/>â€¢ Pagamento via Stripe:<br/>  buy.stripe.com/28E28sc5scRscxc2AWcs800"]

    CRM_INFO --> CRM_PAID{"ğŸ’³ Pagamento de<br/>US$ 100 processado?"}

    CRM_PAID -- "âŒ NÃƒO" --> CRM_WAIT["â³ Aguardando pagamento<br/><br/>âš ï¸ A aplicaÃ§Ã£o NÃƒO serÃ¡<br/>finalizada nem submetida<br/>sem o depÃ³sito do CRM"]
    CRM_WAIT --> CRM_PAID

    CRM_PAID -- "âœ… SIM" --> CRM_ACTIVATED["âœ… OperaÃ§Ã£o Ativada no CRM<br/>Dropbox compartilhado com o cliente"]

    %% ===== ETAPA 5: TERM SHEET =====
    CRM_ACTIVATED --> E5_HEADER{{"âš™ï¸ ETAPA 5: FOLHA DE TERMOS (Term Sheet)<br/>ğŸ“„ Term Sheet Redacted (1).pdf"}}

    E5_HEADER --> E5_TERMS["ğŸ“œ TERMOS DO EMPRÃ‰STIMO:<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ“Œ Valor do EmprÃ©stimo: (conforme solicitado)<br/>ğŸ“Œ Entrada (Down Payment): 10% do valor<br/>ğŸ“Œ Taxa de Juros: 6% (somente juros)<br/>ğŸ“Œ Prazo: 10 anos<br/>ğŸ“Œ QuitaÃ§Ã£o: Pagamento balloon ao final<br/>ğŸ“Œ AmortizaÃ§Ã£o: Somente juros (Interest Only)<br/>ğŸ“Œ Multa por quitaÃ§Ã£o antecipada: Nenhuma<br/>ğŸ“Œ Taxa de avaliaÃ§Ã£o: N/A<br/>ğŸ“Œ Empresa de TÃ­tulos: N/A"]

    E5_TERMS --> E5_FEES["ğŸ’° TAXAS (pagas na liberaÃ§Ã£o â€” at funding):<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ 4% â€” Taxa de serviÃ§o Grammont<br/>â€¢ 5% â€” Taxa do credor (Lender fee)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Total: 9% deduzido na liberaÃ§Ã£o"]

    E5_FEES --> E5_SIGN{"âœï¸ ASSINATURA DA FOLHA DE TERMOS<br/><br/>â° Validade do compromisso:<br/>72 HORAS para:<br/>1. Assinar a Folha de Termos<br/>2. Depositar 10% em conta escrow"}

    E5_SIGN -- "âŒ NÃ£o assinado em 72h" --> E5_EXPIRED["ğŸš« FOLHA DE TERMOS EXPIRADA<br/>CondiÃ§Ãµes sujeitas a alteraÃ§Ã£o<br/><br/>NecessÃ¡rio renegociar os termos"]
    E5_EXPIRED --> E5_HEADER

    E5_SIGN -- "âœ… Assinado em 72h" --> ESCROW

    %% ===== DEPÃ“SITO EM ESCROW =====
    ESCROW{{"ğŸ›ï¸ DEPÃ“SITO EM CONTA ESCROW"}}

    ESCROW --> ESCROW_DETAILS["ğŸ” InstruÃ§Ãµes de DepÃ³sito (Wiring Instructions):<br/><br/>â€¢ 10% do valor do emprÃ©stimo<br/>â€¢ Via transferÃªncia bancÃ¡ria (wire transfer)<br/>â€¢ Destino: Conta escrow do ADVOGADO<br/>â€¢ âš ï¸ OBRIGATÃ“RIO: deve ser a conta<br/>  escrow do advogado â€” caso contrÃ¡rio,<br/>  a operaÃ§Ã£o serÃ¡ cancelada (dead deal)"]

    ESCROW_DETAILS --> ESCROW_CHECK{"ğŸ’° DepÃ³sito de 10%<br/>recebido na conta escrow<br/>do advogado?"}

    ESCROW_CHECK -- "âŒ NÃƒO" --> ESCROW_DEAD["â˜ ï¸ OPERAÃ‡ÃƒO CANCELADA (Dead Deal)<br/><br/>Os recursos DEVEM estar na<br/>conta escrow do advogado.<br/>Sem exceÃ§Ãµes."]

    ESCROW_CHECK -- "âœ… SIM" --> TIMELINE_START["â±ï¸ CRONÃ”METRO INICIADO!<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>60 a 90 dias Ãºteis<br/>para liberaÃ§Ã£o dos recursos<br/>(pode estender atÃ© 180 dias)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"]

    %% ===== PERÃODO DE PROCESSAMENTO =====
    TIMELINE_START --> PROCESSING["ğŸ”„ PERÃODO DE PROCESSAMENTO<br/><br/>â€¢ AnÃ¡lise pelo credor (lender review)<br/>â€¢ DiligÃªncia prÃ©via (due diligence)<br/>â€¢ VerificaÃ§Ãµes adicionais<br/><br/>âš ï¸ O credor pode solicitar<br/>informaÃ§Ãµes complementares<br/>a qualquer momento"]

    PROCESSING --> ADD_INFO{"ğŸ“¨ O credor solicitou<br/>informaÃ§Ãµes adicionais?"}

    ADD_INFO -- "SIM" --> PROVIDE_INFO["ğŸ“¤ Cliente fornece os<br/>documentos adicionais<br/>solicitados pelo credor"]
    PROVIDE_INFO --> PROCESSING

    ADD_INFO -- "NÃƒO" --> FUNDING

    %% ===== LIBERAÃ‡ÃƒO FINAL DOS RECURSOS =====
    FUNDING(["ğŸ‰ LIBERAÃ‡ÃƒO FINAL DOS RECURSOS (Final Funding)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ’° Cliente recebe os recursos<br/>completos do credor<br/><br/>ğŸ“Š Resumo das DeduÃ§Ãµes (at funding):<br/>â€¢ 4% taxa Grammont<br/>â€¢ 5% taxa do credor<br/><br/>ğŸ“… Prazo: 60â€“90 dias Ãºteis<br/>apÃ³s depÃ³sito em escrow<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>âœ… PROCESSO CONCLUÃDO"])

    %% ===== ROAD MAP VISUAL (referÃªncia) =====
    ROADMAP["ğŸ“ ROTEIRO DE CAPTAÃ‡ÃƒO<br/>(Road Map to Funding.pdf)<br/><br/>1ï¸âƒ£ Apresentar um Projeto ViÃ¡vel<br/>2ï¸âƒ£ Demonstrar Atividade Financeira<br/>3ï¸âƒ£ Fornecer um Plano de NegÃ³cios SÃ³lido<br/>4ï¸âƒ£ Seu Compromisso (10% + US$100 CRM)<br/>   â†’ Taxa de ativaÃ§Ã£o CRM de US$100 Ã© obrigatÃ³ria<br/>   â†’ Prazo inicia quando 10% entra no escrow do advogado<br/>5ï¸âƒ£ Trabalhar com o Parceiro Certo<br/>   â†’ Grammont Enterprises<br/>   â†’ AtÃ© 90% sem garantia pessoal<br/>   â†’ Tipicamente 60 a 90 dias Ãºteis<br/>   â†’ Taxas de serviÃ§o &amp; credor (9% total) pagas no funding"]

    START -.-> ROADMAP

    %% ===== ESTILOS =====
    classDef startEnd fill:#D4A843,stroke:#8B6914,stroke-width:3px,color:#1a1a1a,font-weight:bold
    classDef etapaHeader fill:#2C3E50,stroke:#1a252f,stroke-width:2px,color:#FFFFFF,font-weight:bold
    classDef action fill:#EBF5FB,stroke:#2980B9,stroke-width:1px,color:#1a1a1a
    classDef decision fill:#FEF9E7,stroke:#F39C12,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef success fill:#D5F5E3,stroke:#27AE60,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef danger fill:#FADBD8,stroke:#E74C3C,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef payment fill:#F5EEF8,stroke:#8E44AD,stroke-width:2px,color:#1a1a1a,font-weight:bold
    classDef roadmap fill:#FCF3CF,stroke:#D4A843,stroke-width:2px,color:#1a1a1a,font-style:italic

    class START,FUNDING startEnd
    class E1_HEADER,E2_HEADER,E3_HEADER,E4_HEADER,E5_HEADER,DOCS_HEADER,CRM_PAYMENT,ESCROW etapaHeader
    class CONTACT,E1_COLLECT,E2_PF,E2_PJ,E3_ASSETS,E3_LIABILITIES,E3_INCOME,E4_EXEC,E4_OPS,E4_FIN,E4_CRITICAL,DOCS_LIST,CRM_INFO,E5_TERMS,E5_FEES,ESCROW_DETAILS,PROCESSING,PROVIDE_INFO action
    class E1_CHECK,E2_TYPE,DOCS_CHECK,CRM_PAID,E5_SIGN,ESCROW_CHECK,ADD_INFO decision
    class E1_VALIDATED,E2_VALIDATED,E3_VALIDATED,E4_VALIDATED,CRM_ACTIVATED,E3_CALC,TIMELINE_START success
    class E1_FAIL,ESCROW_DEAD,E5_EXPIRED danger
    class E1_RETRY,DOCS_PENDING,CRM_WAIT action
    class ROADMAP roadmap
      </pre>
    </div>

  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- HINT + VERSION -->
<div class="hint" id="hintBar">v3.1 Â· 03.02.2026 &nbsp;|&nbsp; Drag to move Â· Scroll to zoom Â· Top buttons for control</div>

<!-- MERMAID CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.1/mermaid.min.js"></script>

<script>
  // â”€â”€ STATE â”€â”€
  var scale = 1;
  var panX = 0, panY = 0;
  var isDragging = false;
  var startX, startY;
  var MIN_SCALE = 0.05;
  var MAX_SCALE = 4;
  var ZOOM_STEP = 0.15;
  var currentLang = 'en';

  var container = document.getElementById('canvasContainer');
  var inner = document.getElementById('canvasInner');
  var zoomDisplay = document.getElementById('zoomLevel');

  // â”€â”€ i18n STRINGS â”€â”€
  var i18n = {
    en: {
      subtitle: 'Private Loans 90/10 â€” Funding Process Flow',
      exportLabel: 'Export PNG',
      hint: 'v3.1 Â· 03.02.2026 \u00a0|\u00a0 Drag to move Â· Scroll to zoom Â· Top buttons for control',
      loading: 'Rendering flowchart...',
      exportFile: 'Grammont_Funding_Process_90-10.png',
      toastExporting: 'Generating high-resolution image...',
      toastDone: 'âœ… PNG image exported successfully!',
      toastError: 'Error generating image. Please try again.',
      toastNotFound: 'Error: diagram not found.',
      toastSwitched: 'Switched to English'
    },
    pt: {
      subtitle: 'EmprÃ©stimos Privados 90/10 â€” Fluxo de CaptaÃ§Ã£o de Recursos',
      exportLabel: 'Exportar PNG',
      hint: 'v3.1 Â· 03.02.2026 \u00a0|\u00a0 Arraste para mover Â· Scroll para zoom Â· BotÃµes no topo para controle',
      loading: 'Renderizando fluxograma...',
      exportFile: 'Grammont_Fluxo_Captacao_90-10.png',
      toastExporting: 'Gerando imagem em alta resoluÃ§Ã£o...',
      toastDone: 'âœ… Imagem PNG exportada com sucesso!',
      toastError: 'Erro ao gerar imagem. Tente novamente.',
      toastNotFound: 'Erro: diagrama nÃ£o encontrado.',
      toastSwitched: 'Alterado para PortuguÃªs'
    }
  };

  // â”€â”€ LANGUAGE SWITCH â”€â”€
  function switchLang(lang) {
    if (lang === currentLang) return;
    currentLang = lang;

    // Toggle button styles
    document.getElementById('btnEN').classList.toggle('active', lang === 'en');
    document.getElementById('btnPT').classList.toggle('active', lang === 'pt');

    // Toggle diagrams
    document.getElementById('diagram-en').classList.toggle('hidden', lang !== 'en');
    document.getElementById('diagram-pt').classList.toggle('hidden', lang !== 'pt');

    // Update UI strings
    var strings = i18n[lang];
    document.getElementById('headerSubtitle').textContent = strings.subtitle;
    document.getElementById('exportLabel').textContent = strings.exportLabel;
    document.getElementById('hintBar').innerHTML = strings.hint;

    // Re-fit after switching
    setTimeout(fitToScreen, 100);

    showToast(strings.toastSwitched);
  }

  // â”€â”€ INIT MERMAID â”€â”€
  mermaid.initialize({
    startOnLoad: false,
    theme: 'base',
    themeVariables: {
      primaryColor: '#D4A843',
      primaryTextColor: '#1a1a1a',
      primaryBorderColor: '#B8860B',
      lineColor: '#333333',
      secondaryColor: '#f5f0e1',
      tertiaryColor: '#fff8e7',
      fontSize: '14px'
    },
    flowchart: {
      useMaxWidth: false,
      htmlLabels: true,
      curve: 'linear',
      diagramPadding: 20,
      nodeSpacing: 30,
      rankSpacing: 40
    },
    securityLevel: 'loose'
  });

  // â”€â”€ RENDER BOTH DIAGRAMS â”€â”€
  // Both panels must be visible for Mermaid to render SVGs
  (async function() {
    try {
      // Make sure PT is visible for rendering
      var ptPanel = document.getElementById('diagram-pt');
      ptPanel.classList.remove('hidden');

      // Render all mermaid blocks
      await mermaid.run();

      // Now hide PT and show EN as default
      ptPanel.classList.add('hidden');
      document.getElementById('diagram-en').classList.remove('hidden');

      // Set button states
      document.getElementById('btnEN').classList.add('active');
      document.getElementById('btnPT').classList.remove('active');
      currentLang = 'en';

      setTimeout(function() {
        fitToScreen();
        document.getElementById('loading').classList.add('hidden');
      }, 600);
    } catch(err) {
      console.error('Mermaid render error:', err);
      document.getElementById('loading').classList.add('hidden');
    }
  })();

  // â”€â”€ TRANSFORM â”€â”€
  function applyTransform() {
    inner.style.transform = 'translate(' + panX + 'px, ' + panY + 'px) scale(' + scale + ')';
    zoomDisplay.textContent = Math.round(scale * 100) + '%';
  }

  // â”€â”€ ZOOM â”€â”€
  function zoomIn() {
    scale = Math.min(MAX_SCALE, scale + ZOOM_STEP);
    applyTransform();
  }

  function zoomOut() {
    scale = Math.max(MIN_SCALE, scale - ZOOM_STEP);
    applyTransform();
  }

  function fitToScreen() {
    var activePanel = document.getElementById('diagram-' + currentLang);
    var svg = activePanel.querySelector('svg');
    if (!svg) return;
    var svgW = svg.getBoundingClientRect().width / scale;
    var svgH = svg.getBoundingClientRect().height / scale;
    var padW = 64;
    var padH = 64;
    var totalW = svgW + padW;
    var totalH = svgH + padH;
    var availW = container.clientWidth - 40;
    var availH = container.clientHeight - 40;
    scale = Math.min(availW / totalW, availH / totalH, 2);
    scale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, scale));
    var scaledW = totalW * scale;
    var scaledH = totalH * scale;
    panX = (availW - scaledW) / 2 + 20;
    panY = (availH - scaledH) / 2 + 20;
    applyTransform();
  }

  // â”€â”€ MOUSE DRAG â”€â”€
  container.addEventListener('mousedown', function(e) {
    isDragging = true;
    startX = e.clientX - panX;
    startY = e.clientY - panY;
  });

  window.addEventListener('mousemove', function(e) {
    if (!isDragging) return;
    panX = e.clientX - startX;
    panY = e.clientY - startY;
    applyTransform();
  });

  window.addEventListener('mouseup', function() { isDragging = false; });

  // â”€â”€ TOUCH DRAG â”€â”€
  container.addEventListener('touchstart', function(e) {
    if (e.touches.length === 1) {
      isDragging = true;
      startX = e.touches[0].clientX - panX;
      startY = e.touches[0].clientY - panY;
    }
    if (e.touches.length >= 2) {
      e.preventDefault();
    }
  }, { passive: false });

  container.addEventListener('touchmove', function(e) {
    e.preventDefault();
    if (isDragging && e.touches.length === 1) {
      panX = e.touches[0].clientX - startX;
      panY = e.touches[0].clientY - startY;
      applyTransform();
    }
  }, { passive: false });

  container.addEventListener('touchend', function() { isDragging = false; });

  // â”€â”€ SCROLL ZOOM with focal point â”€â”€
  container.addEventListener('wheel', function(e) {
    e.preventDefault();
    var rect = container.getBoundingClientRect();
    var mouseX = e.clientX - rect.left;
    var mouseY = e.clientY - rect.top;
    var prevScale = scale;
    if (e.deltaY < 0) {
      scale = Math.min(MAX_SCALE, scale * 1.1);
    } else {
      scale = Math.max(MIN_SCALE, scale / 1.1);
    }
    var ratio = scale / prevScale;
    panX = mouseX - ratio * (mouseX - panX);
    panY = mouseY - ratio * (mouseY - panY);
    applyTransform();
  }, { passive: false });

  // â”€â”€ PINCH ZOOM (mobile) â”€â”€
  var lastPinchDist = 0;
  container.addEventListener('touchstart', function(e) {
    if (e.touches.length === 2) {
      e.preventDefault();
      isDragging = false;
      var dx = e.touches[0].clientX - e.touches[1].clientX;
      var dy = e.touches[0].clientY - e.touches[1].clientY;
      lastPinchDist = Math.sqrt(dx * dx + dy * dy);
    }
  }, { passive: false });

  container.addEventListener('touchmove', function(e) {
    if (e.touches.length === 2) {
      e.preventDefault();
      var dx = e.touches[0].clientX - e.touches[1].clientX;
      var dy = e.touches[0].clientY - e.touches[1].clientY;
      var dist = Math.sqrt(dx * dx + dy * dy);
      if (lastPinchDist > 0) {
        var ratio = dist / lastPinchDist;
        var midX = (e.touches[0].clientX + e.touches[1].clientX) / 2;
        var midY = (e.touches[0].clientY + e.touches[1].clientY) / 2;
        var rect = container.getBoundingClientRect();
        var cx = midX - rect.left;
        var cy = midY - rect.top;
        var prevScale = scale;
        scale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, scale * ratio));
        var r = scale / prevScale;
        panX = cx - r * (cx - panX);
        panY = cy - r * (cy - panY);
        applyTransform();
      }
      lastPinchDist = dist;
    }
  }, { passive: false });

  container.addEventListener('touchend', function(e) {
    if (e.touches.length < 2) lastPinchDist = 0;
  });

  // â”€â”€ EXPORT PNG â”€â”€
  function exportPNG() {
    var strings = i18n[currentLang];
    var activePanel = document.getElementById('diagram-' + currentLang);
    var svgEl = activePanel.querySelector('svg');
    if (!svgEl) { showToast(strings.toastNotFound); return; }

    showToast(strings.toastExporting);

    var svgClone = svgEl.cloneNode(true);
    svgClone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
    svgClone.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');

    var styleEl = document.createElementNS('http://www.w3.org/2000/svg', 'style');
    styleEl.textContent = '* { font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }';
    svgClone.insertBefore(styleEl, svgClone.firstChild);

    var foreignObjects = svgClone.querySelectorAll('foreignObject');
    foreignObjects.forEach(function(fo) {
      var divs = fo.querySelectorAll('div');
      divs.forEach(function(d) {
        if (!d.style.backgroundColor) {
          d.style.backgroundColor = 'transparent';
        }
      });
    });

    var svgData = new XMLSerializer().serializeToString(svgClone);
    var svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
    var url = URL.createObjectURL(svgBlob);

    var img = new Image();
    img.onload = function() {
      var multiplier = 3;
      var canvas = document.createElement('canvas');
      canvas.width = img.naturalWidth * multiplier;
      canvas.height = img.naturalHeight * multiplier;
      var ctx = canvas.getContext('2d');
      ctx.fillStyle = '#FFFFFF';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.scale(multiplier, multiplier);
      ctx.drawImage(img, 0, 0);
      URL.revokeObjectURL(url);

      canvas.toBlob(function(blob) {
        var a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = strings.exportFile;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(a.href);
        showToast(strings.toastDone);
      }, 'image/png');
    };
    img.onerror = function() {
      URL.revokeObjectURL(url);
      showToast(strings.toastError);
    };
    img.src = url;
  }

  // â”€â”€ TOAST â”€â”€
  function showToast(msg) {
    var toast = document.getElementById('toast');
    toast.textContent = msg;
    toast.classList.add('show');
    clearTimeout(toast._timer);
    toast._timer = setTimeout(function() { toast.classList.remove('show'); }, 3000);
  }

  // â”€â”€ BLOCK NATIVE ZOOM GLOBALLY â”€â”€
  var lastTouchEnd = 0;
  document.addEventListener('touchend', function(e) {
    var now = Date.now();
    if (now - lastTouchEnd <= 300) {
      e.preventDefault();
    }
    lastTouchEnd = now;
  }, { passive: false });

  document.addEventListener('gesturestart', function(e) {
    e.preventDefault();
  }, { passive: false });

  document.addEventListener('gesturechange', function(e) {
    e.preventDefault();
  }, { passive: false });

  // â”€â”€ KEYBOARD SHORTCUTS â”€â”€
  document.addEventListener('keydown', function(e) {
    if (e.key === '+' || e.key === '=') zoomIn();
    if (e.key === '-') zoomOut();
    if (e.key === '0') fitToScreen();
  });
</script>
</body>
</html>
